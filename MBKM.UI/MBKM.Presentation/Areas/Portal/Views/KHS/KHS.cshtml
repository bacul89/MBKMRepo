﻿
@{ ViewBag.Title = "KHS";
    Layout = "";
}

@model MBKM.Entities.ViewModel.VMKHS

@*@model List<MBKM.Entities.ViewModel.VMKHS>*@
@{ var total = 0; }
<head>


    @Styles.Render("~/Content/css")
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400&display=swap" rel="stylesheet">
    <link href="~/Content/select2.min.css" rel="stylesheet" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    @Scripts.Render("~/bundles/modernizr")


</head>
<style>

    .box {
        border: solid 1px black;
        padding: 15px 25px;
        margin: 15px 0px;
    }

    body {
        font-family: 'Roboto';
    }

    a:hover {
        cursor: pointer;
    }

    input {
        max-width: 100%;
    }

    select {
        max-width: 100%;
    }

    .footnote {
        margin: 0 20%;
    }

    table.footer tr td {
        text-align: center;
    }

    th {
        background: #B5E0F1;
        padding: 15px 0px;
        font-size: 13px;
    }
    #daga{
        display:inline-block;
    }
    .sempit
    {
        line-height :10px;
    }
    /*.abc {
        display: inline-block;
        width:100%;
    }
    h4 {
        font-weight: bold;
        font-size: 40px;
       
        display: inline-block;
    }*/
</style>


<div class="container-fluid" style="padding: 0px">
    <div class="card center-block" style="background-color: white; width: 100%; padding: 0px">
        <div>
            <div class="abc">
                @* box orange *@
                <img src="~/Asset/Lambang_Unika_Atma_Jaya.png" style="max-height: 75px; margin: 15px 25px;float:left" />
                <h4 style="padding-top: 30px; padding-right: 20px; padding-left: 30px; font-weight: bold; font-size: 30px; color: black; text-align:right">
                    KHS
                    
                    <br />
                </h4>
                <h4 style="padding-top: 0px; padding-right: 20px; padding-left: 30px; font-weight: bold; font-size: 25px; color: black; text-align:right; font-weight:normal">
                    Kartu Hasil Studi<br />
                </h4>
                <h4 style="padding-top: 0px; padding-right: 20px; padding-left: 30px; font-weight: bold; font-size: 18px; color: black; text-align:right; font-weight:normal">
                    <em>TRANSCRIPT</em><br />
                </h4>

            </div>
            <div class="container" style="width: 100%;">

                @*<div class="col" style="text-align:center"><a target="_blank" href="javascript:void(0)" style="color:black" onclick="KHSPage()"><span class="fa fa-download"></span></a></div>*@

                <br />
                <br />

                <div id="daga" class=" col-md-5">
                    <table hidden class="table" style="width: auto;">
                        <tr>
                            <td style="text-align: right">Tahun Semester</td>
                            <td style="width: 400px;">
                                <select name="tahunSemester" id="tahunSemester" class="form-control input-md"></select>
                            </td>
                        </tr>
                    </table>
                    <table>
                        <tr>
                            <td style="font-weight:bold;">SEMESTER</td>
                            <td style="padding:5px"> : </td>
                            <td id="term"></td>
                        </tr>
                        <tr>
                            <td style="font-size:14px"><em>TERM</em></td>
                            <td style="padding:5px"></td>
                            <td style="font-size:14px" id="semester"></td>
                        </tr>
                        <tr>
                        </tr>
                        <tr>
                            <td style="font-weight:bold;">NIM</td>
                            <td style="padding:5px"> : </td>
                            <td id="nim"></td>
                        </tr>
                        <tr>
                            <td style="font-size:14px"><em>CAMPUS ID</em></td>
                            <td style="padding:5px"></td>
                            <td style="font-size:14px"></td>
                        </tr>
                        <tr>
                            <td style="font-weight:bold;">NAMA</td>
                            <td style="padding:5px"> : </td>
                            <td id="name"></td>
                        </tr>
                        <tr>
                            <td style="font-size:14px"><em>NAME</em></td>
                            <td style="padding:5px"></td>
                            <td style="font-size:14px"></td>
                        </tr>
                        <tr>
                            <td style="font-weight:bold;">UNIVERSITAS ASAL</td>
                            <td style="padding:5px"> : </td>
                            <td id="univ"></td>
                        </tr>
                        <tr>
                            <td style="font-size:14px"><em>University</em></td>
                            <td style="padding:5px"></td>
                            <td style="font-size:14px"></td>
                        </tr>
                    </table>






                </div>
                @*<div class=" col-md-1">
                </div>*@

                <div id="daga" class="box col-md-3" style="float:right">
                    <table>



                        <tr class="sempit"  style="margin: 0">
                            <td style="font-size: 12px; margin: 0">NILAI</td>
                            <td ></td>
                            <td style="font-size: 12px; margin: 0"><em>GRADE</em></td>
                           


                        </tr>
                        <tr class="sempit" style="margin: 0">
                            <td style="font-size: 12px; margin: 0">A</td>
                            <td style="padding: 3px; font-size: 12px; margin: 0"> = </td>
                            <td style="font-size: 12px; margin: 0" id="nA">4.00</td>
                            <td style="font-size:12px; padding-left: 60px;margin:0"> M = MUNDUR (WITHDRAWN)</td>


                        </tr>

                        <tr class="sempit"  style="margin: 0">
                            <td style="font-size: 12px; margin: 0">A-</td>
                            <td style="padding: 3px; font-size: 12px; margin: 0"> = </td>
                            <td style="font-size: 12px; margin: 0" id="nA">3.70</td>
                            @*<td style="font-size:12px; padding-left: 60px"> R = CEKAL (BARRED)</td>*@


                        </tr>
                        <tr class="sempit">
                            <td style="font-size:12px">B+</td>
                            <td style="padding: 3px; font-size: 12px"> = </td>
                            <td style="font-size:12px" id="nA">3.30</td>
                            <td style="font-size:12px; padding-left: 60px"> R = CEKAL (BARRED)</td>
                        </tr>
                        <tr class="sempit">
                            <td style="font-size:12px">B</td>
                            <td style="padding: 3px; font-size: 12px"> = </td>
                            <td style="font-size:12px" id="nA">3.00</td>
                            @*<td style="font-size:12px; padding-left: 60px"> R = CEKAL (BARRED)</td>*@
                        </tr>
                        <tr class="sempit">
                            <td style="font-size:12px">B-</td>
                            <td style="padding: 3px; font-size: 12px"> = </td>
                            <td style="font-size:12px" id="nA">2.70</td>
                            <td style="font-size:12px; padding-left: 60px"> S = SICK (SAKIT)</td>
                        </tr>
                        <tr class="sempit">
                            <td style="font-size:12px">C+</td>
                            <td style="padding: 3px; font-size: 12px"> = </td>
                            <td style="font-size:12px" id="nA">2.30</td>
                            @*<td style="font-size:12px; padding-left: 60px"> R = CEKAL (BARRED)</td>*@
                        </tr>
                        <tr class="sempit">
                            <td style="font-size:12px">C</td>
                            <td style="padding: 3px; font-size: 12px"> = </td>
                            <td style="font-size:12px" id="nA">2.00</td>
                            <td style="font-size:12px; padding-left: 60px"> T = TUNDA (POSTPONED)</td>
                        </tr>
                        <tr class="sempit">
                            <td style="font-size:12px">D</td>
                            <td style="padding: 3px; font-size: 12px"> = </td>
                            <td style="font-size:12px" id="nA">1.00</td>
                            @*<td style="font-size:12px; padding-left: 60px"> R = CEKAL (BARRED)</td>*@
                        </tr>
                        <tr class="sempit">
                            <td style="font-size:12px">E</td>
                            <td style="padding: 3px; font-size: 12px"> = </td>
                            <td style="font-size:12px" id="nA">0</td>
                            @*<td style="font-size:12px; padding-left: 60px"> R = CEKAL (BARRED)</td>*@
                        </tr>

                    </table>
                </div>
                <div>

                </div>
                <table id="countit" width="100%" class="table table-bordered table-striped hover dt-responsive responsive">
                    <thead>
                        <tr>
                            @*<th width="10%">NO</th>*@
                            <th width="20%" style="text-align:center">KODE MATA KULIAH <br /> <em>CODE</em></th>
                            <th width="40%" style="text-align:center">NAMA MATA KULIAH <br /> <em>COURSES</em></th>
                            <th width="5%" style="text-align:center">SEKSI<br /> <em>SECTION</em></th>
                            <th width="10%" style="text-align:center">SKS(K)<br /> <em>UNITS</em></th>
                            <th width="5%" style="text-align:center">NILAI(N) <br /> <em>GRADE</em></th>
                            <th width="20%" style="text-align:center">HASIL(N X K)<br /> <em>QUALITY POINTS</em></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var employee in (IEnumerable<MBKM.Entities.ViewModel.VMKHS>)ViewData["EmployeeList2"])
                        {
                            <tr>
                                <td>@employee.KodeMataKuliah</td>
                                <td>@employee.EngMK <br /> @employee.NamaMatakuliah</td>
                                <td>@employee.Seksi</td>
                                <td class="count-me">@employee.SKS</td>
                                <td>@employee.Nilai</td>
                                <td class="count-hasil">@employee.Hasil</td>
                                @*@{total += @employee.SKS;}*@

                            </tr>
                        }

                    </tbody>

                </table>
                <table id="sumT" width="50%" class="table table-bordered table-striped hover dt-responsive responsive">
                    
                    <colgroup span="3"></colgroup>
                    <colgroup span="3"></colgroup>
                    <thead>
                        <tr>
                            @*<th width="10%">NO</th>*@

                            @*<th width="40%">HASIL SEMESTER <em>SEMESTER RESULTS</em></th>*@
                            <th colspan="3" scope="colgroup" style="text-align:center">HASIL SEMESTER <em>SEMESTER RESULTS</em></th>

                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                        </tr>


                    </tbody>

                </table>
                @*<div style="overflow-x: auto;">*@


                <br />
                <br />

            </div>



        </div>
    </div>
</div>






@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")
@*@RenderSection("scripts", required: true)*@
<script src="~/Scripts/select2.min.js"></script>

<script>


    $(document).ready(function () {
        
             $('#name').html("@ViewData["nama"].ToString()");
             $('#nim').html("@ViewData["nim"].ToString()");
             $('#univ').html("@ViewData["univ"].ToString()");
             $('#semester').html('<em>'+"@ViewData["semester"].ToString()"+'</em>');
           // var term1 = $('#semester').text();
       // var regex = new RegExp("ODD",);
       //var rex = regex.test(term1);
       // if (rex == true) {
       //     var term2 = term1.replace('ODD Semester', 'Semester Ganjil')
            $('#term').html("@ViewData["sIndo"].ToString()");
       // }
             //if (term1.includes("ODD")) {
             //    var term2 = term1.replace('ODD Semester', 'Semester Ganjil')

             //    $('#term').html(term2);
             //}
            // var term1 = $('#semester').text();
             //setTimeout(function () {
             //    //your code here

             //}, 500);

            // if (term1.includes("ODD")) {
            //     alert("asd");
            //     }
             //else {
             //    var term2 = term1.replace('Even Semester', 'Semester Genap')
            //     $('#term').html(term1);
            // }

            // console.log(@Model);
             var tds = document.getElementById('countit').getElementsByTagName('td');
             var sum = 0;
             for (var i = 0; i < tds.length; i++) {
                 if (tds[i].className == 'count-me') {
                     sum += isNaN(tds[i].innerHTML) ? 0 : parseInt(tds[i].innerHTML);
                 }
             }

            // var tds2 = document.getElementById('countit').getElementsByTagName('td');
             var sum2 = 0;
             for (var i = 0; i < tds.length; i++) {
                 if (tds[i].className == 'count-hasil') {
                     sum2 += isNaN(tds[i].innerHTML) ? 0 : parseFloat(tds[i].innerHTML);
                     //sum2 += isNaN(tds[i].innerHTML) ? 0 : parseInt(tds[i].innerHTML);
                 }
             }
        document.getElementById('sumT').innerHTML += '<tr><td>∑K: ' + parseFloat(sum).toFixed(2) + ' SKS <em>Units</em></td><td>∑N X K: ' + parseFloat(sum2).toFixed(2) + '</td><td>IPS <em>GPA</em>: ' + parseFloat((sum2 / sum)).toFixed(2) +'</td></tr>';
             //document.getElementById('sumT').innerHTML += '<tr><td>' + sum2 + '</td><td>total hasil</td></tr>';
             //document.getElementById('sumT').innerHTML += '<tr><td>' + (sum2/sum) + '</td><td>IPS</td></tr>';
             console.log(tds[5].innerHTML);
             //sts();
             //geek();

    //window.onload = sts();
         });
    //document.onload = sts();
    //function sts() {
    //    var term1 = $('#semester').text();
    //     if (term1.includes("ODD")) {
    //    var term2 = term1.replace('ODD Semester', 'Semester Ganjil')
    //    $('#term').html(term2);
    //         }

    //}
    //function geek() {
    //    var term1 = $('#semester').text();
    //    var regex = new RegExp("ODD",);
    //    var rex = regex.test(term1);
    //    if (rex == true) {
    //        var term2 = term1.replace('ODD Semester', 'Semester Ganjil')
    //        $('#term').html(term2);
    //    }
    //    //document.getElementById("app").innerHTML
    //    //    = " Match " + " found: " + "<b>"
    //    //    + rex + "</b>";
    //    console.log(rex);
    //}

</script>




